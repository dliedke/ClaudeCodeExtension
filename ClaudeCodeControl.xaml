<UserControl x:Class="ClaudeCodeVS.ClaudeCodeControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:wf="clr-namespace:System.Windows.Forms.Integration;assembly=WindowsFormsIntegration"
             mc:Ignorable="d"
             d:DesignHeight="600" d:DesignWidth="400"
             Background="#FF1E1E1E">

	<UserControl.Resources>
		<!-- Dark button style -->
		<Style x:Key="DarkButtonStyle" TargetType="Button">
			<Setter Property="Background" Value="#FF2D2D30"/>
			<Setter Property="Foreground" Value="#FFDCDCDC"/>
			<Setter Property="BorderBrush" Value="#FF3F3F46"/>
			<Setter Property="BorderThickness" Value="0.5"/>
			<Setter Property="Padding" Value="8,5"/>
			<Setter Property="Height" Value="30"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Style.Triggers>
				<Trigger Property="IsMouseOver" Value="True">
					<Setter Property="Background" Value="#FF3F3F46"/>
					<!-- Slightly lighter hover -->
				</Trigger>
				<Trigger Property="IsPressed" Value="True">
					<Setter Property="Background" Value="#FF1E1E1E"/>
					<!-- Darker on press -->
				</Trigger>
			</Style.Triggers>
		</Style>
	</UserControl.Resources>

	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="*" MinHeight="80"/>
			<RowDefinition Height="4"/>
			<RowDefinition Height="2*" MinHeight="150"/>
		</Grid.RowDefinitions>

		<!-- Top Section Container -->
		<Grid Grid.Row="0" Margin="6,6,6,0">
			<Grid.RowDefinitions>
				<RowDefinition Height="*" MinHeight="80"/>
				<RowDefinition Height="Auto"/>
			</Grid.RowDefinitions>

			<!-- Prompt Input Area -->
			<GroupBox Grid.Row="0"
                      Header="Prompt / Paste Image"
                      Foreground="#FFDCDCDC"
                      Background="#FF2D2D30"
                      BorderThickness="0.5"
                      Margin="0,0,0,2">
				<TextBox x:Name="PromptTextBox"
                         TextWrapping="Wrap"
                         AcceptsReturn="True"
                         VerticalScrollBarVisibility="Auto"
                         FontFamily="Cascadia Mono"
                         Background="#FF1E1E1E"
                         Foreground="#FFDCDCDC"
                         BorderBrush="#FF3F3F46"
                         Margin="3"
                         KeyDown="PromptTextBox_KeyDown"
                         PreviewKeyDown="PromptTextBox_PreviewKeyDown"/>
			</GroupBox>

			<!-- Buttons + Status -->
			<StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,4,0,6" VerticalAlignment="Top">
				<StackPanel Margin="0,0,8,0">
					<Button x:Name="AddImageButton"
                            Content="Add Image"
                            Style="{StaticResource DarkButtonStyle}"
                            PreviewMouseLeftButtonUp="ImageDropBorder_Click"/>
					<TextBlock x:Name="ImageDropText"
                               Text="No images attached"
                               Foreground="#FF9A9A9A"
                               FontSize="11"
                               Margin="2,4,0,0"/>
				</StackPanel>

				<Button x:Name="RestartTerminalButton"
                        Content="Restart"
                        Style="{StaticResource DarkButtonStyle}"
                        Click="RestartTerminalButton_Click"
                        VerticalAlignment="Top"/>
			</StackPanel>
		</Grid>

		<!-- Resizable Splitter -->
		<GridSplitter Grid.Row="1"
                      Height="4"
                      HorizontalAlignment="Stretch"
                      VerticalAlignment="Center"
                      Background="#FF3F3F46"
                      ShowsPreview="True"
                      ResizeDirection="Rows"
                      ResizeBehavior="PreviousAndNext"
                      Cursor="SizeNS"/>

		<!-- Embedded Terminal -->
		<GroupBox Grid.Row="2"
                  Header="Claude Code"
                  Margin="6"
                  Foreground="#FFDCDCDC"
                  Background="#FF2D2D30"
                  BorderThickness="0.5">
			<wf:WindowsFormsHost x:Name="TerminalHost" Margin="3"/>
		</GroupBox>
	</Grid>
</UserControl>
